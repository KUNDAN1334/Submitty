<textarea id="code0">{{ file_contents }}</textarea>
{% include 'misc/SourceSettings.twig' with { type: file_type, number: 0 } %}
<script>
    function iFrameInit() {
        $('body').css("height", "auto");
        $('.CodeMirror').height("auto");

        $('.CodeMirror')[0].CodeMirror.setSize(null, null);

        $('body').css("height", ($('.CodeMirror').height()) + "px");
    }
    $(document).ready(function() {
        iFrameInit();

 // Get theme from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const theme = urlParams.get('theme') || 'light';
        applyTheme(theme);

        // Listen for theme changes from parent window
        window.addEventListener('message', function(event) {
            if (event.data.type === 'setTheme') {
                applyTheme(event.data.theme);
            }
        }, false);

    });
</script>
